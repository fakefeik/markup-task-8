body
{
    margin: 0;
}

main
{
    display: inline-block;
    position: relative;
    text-align: center;
    transform-style: preserve-3d;
    margin: auto;
    width: 100%;
}

.article
{
    position: absolute;
    box-shadow: 0 0 10px rgba(0, 0, 0, .5);
    top: 200px;
    left: 50%;
    transform-style: preserve-3d;
    transition: .5s ease-in-out;
    width: 18%;
    height: 200px;
}

.article > a,
.article > label
{
    position: absolute;
    background: rgba(0,0,0,0);
    z-index: 3;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
}

.article > a
{
    z-index: 2;
    pointer-events: none;
}

.article > .front-face
{
    position: absolute;
    visibility: visible;
    top: 0;
    transform: perspective(500px) rotateX(0deg);
    transition: .5s linear .5s;
    opacity: 1;
}

.article > .back-face
{
    position: absolute;
    background-color: #fff;
    width: 400px;
    height: 350px;
    top: -100px;
    left: -100px;
    right: 200px;
    opacity: 0;
    transform: perspective(500px) rotateX(90deg) scale(.5);
    transition: .5s linear;
}

.article > .front-face > img
{
    width: 100%;
}

.article:target
{
    box-shadow: initial;
}

.article:target > .front-face
{
    opacity: 0;
    transform: rotateY(-90deg) translateX(100%) rotateY(90deg)
        perspective(500px) rotateX(-90deg) scale(2);
    transition: all .5s linear;
}

.article:target > .back-face
{
    
    opacity: 1;
    transform: rotateY(-90deg) translateX(100%) rotateY(90deg)
        perspective(500px) rotateX(0deg);
    transition: all .5s linear .5s;
}

.article:target ~ .close-button
{
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, .5);
}

.article:target ~ .close-button:before
{
    position: absolute;
    right: 0;
    content: 'x';
    color: #f00;
}

.pick-img
{
    display: none;
}

.back-face
{
    display: flex;
    flex-flow: wrap;
    justify-content: space-around;
}

.back-face > header
{
    flex: 0 0 100%;
    font-size: 32px;
}

.back-face > aside
{
    flex: 0 0 30%;
}

.back-face > .instruction
{
    flex: 0 0 60%;
    text-align: left;
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(7)
{
    transform: rotateY(-90deg) translateX(100%) rotateY(90deg)
        translateX(-50%);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(1) > a,
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(2) > a,
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(3) > a,
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(4) > a,
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(5) > a,
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(6) > a,
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(7) > a
{
    z-index: 4;
    pointer-events: initial;
}

.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(6)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-100%) rotateY(60deg);
}

.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(5)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-150%) rotateY(50deg);
}

.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(4)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-200%) rotateY(40deg);
}

.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(3)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-250%) rotateY(30deg);
}

.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(1),
.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(2)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-300%) rotateY(20deg);
}

.pick-img:nth-of-type(8):checked ~ .article:nth-of-type(1)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(-350%) rotateY(10deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(2),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(7):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(0) rotateY(-60deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(3),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(6):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(50%) rotateY(-50deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(4),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(5):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(100%) rotateY(-40deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(5),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(4):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(150%) rotateY(-30deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(6),
.pick-img:nth-of-type(3):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(200%) rotateY(-20deg);
}

.pick-img:nth-of-type(2):checked ~ .article:nth-of-type(7)
{
    transform: perspective(500px)
        rotateY(-90deg) translateX(-50%) rotateY(90deg)
        translateX(250%) rotateY(-10deg);
}
